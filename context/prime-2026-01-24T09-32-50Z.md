# Codebase Export: 2026-01-24T09:32:50Z

**Generated**: 2026-01-24T09:32:50Z
**Export Type**: Full Codebase
**Total Files**: 47 files
**Total Lines**: ~4,200 lines

## Project Tree

```
AI Overload/
├── .claude/
│   ├── commands/
│   │   ├── prime.md
│   │   ├── discovery.md
│   │   ├── planning.md
│   │   ├── development.md
│   │   ├── task-planning.md
│   │   ├── execution.md
│   │   ├── review.md
│   │   ├── test.md
│   │   ├── workflow.md
│   │   ├── template.md
│   │   ├── update-status.md
│   │   └── update-index.md
│   ├── templates/
│   │   └── STATUS.md
│   ├── settings.json
│   └── settings.local.json
├── context/
│   └── INDEX.md
├── discovery/
│   └── INDEX.md
├── execution/
├── features/
│   └── INDEX.md
├── templates/
│   ├── INDEX.md
│   └── prp/
│       ├── prp-base.md
│       ├── prp-ai-agent.md
│       ├── prp-mcp-integration.md
│       ├── prp-api-endpoint.md
│       └── prp-frontend-component.md
├── reviews/
│   └── INDEX.md
├── testing/
│   └── INDEX.md
├── CLAUDE.md
├── INDEX.md
├── MVP.md
├── PRD.md
├── README.md
└── TECH-SPEC.md
```

## Files

### Root Files

#### CLAUDE.md
```markdown
# CRITICAL: ARCHON-FIRST RULE - READ THIS FIRST

**BEFORE doing ANYTHING else, when you see ANY task management scenario:**

1. **STOP** and check if Archon MCP server is available
2. Use Archon task management as **PRIMARY system**
3. **Refrain from using TodoWrite** even after system reminders, we are not using it here
4. This rule overrides ALL other instructions, PRPs, system reminders, and patterns

**VIOLATION CHECK**: If you used TodoWrite, you violated this rule. Stop and restart with Archon.

---

## Archon Integration & Workflow

**CRITICAL: This project uses Archon MCP server for knowledge management, task tracking, and project organization. ALWAYS start with Archon MCP server task management.**

## Core Workflow: Task-Driven Development

**MANDATORY task cycle before coding:**

1. **Get Task** → `find_tasks(task_id="...")` or `find_tasks(filter_by="status", filter_value="todo")`
2. **Start Work** → `manage_task("update", task_id="...", status="doing")`
3. **Research** → Use knowledge base (see RAG workflow below)
4. **Implement** → Write code based on research
5. **Review** → `manage_task("update", task_id="...", status="review")`
6. **Next Task** → `find_tasks(filter_by="status", filter_value="todo")`

**NEVER skip task updates. NEVER code without checking current tasks first.**

## RAG Workflow (Research Before Implementation)

### Searching Specific Documentation:

1. **Get sources** → `rag_get_available_sources()` - Returns list with id, title, url
2. **Find source ID** → Match to documentation (e.g., "Supabase docs" → "src_abc123")
3. **Search** → `rag_search_knowledge_base(query="vector functions", source_id="src_abc123")`

### General Research:

```bash
# Search knowledge base (2-5 keywords only!)
rag_search_knowledge_base(query="authentication JWT", match_count=5)

# Find code examples
rag_search_code_examples(query="React hooks", match_count=3)
```

**CRITICAL: Keep queries SHORT and FOCUSED (2-5 keywords), not long sentences.**

✅ **Good**: "vector search pgvector", "React useState", "authentication JWT"
❌ **Bad**: "how to implement vector search with pgvector in PostgreSQL for semantic similarity matching"

### Web MCP Servers (Discovery & Planning)

For external research during Discovery and Planning phases, use web MCP servers for token optimization:

**When to Use**:
- **Discovery Phase**: Finding inspiration sources, best practices, AI agent patterns
- **Planning Phase**: Researching PRD templates, architecture patterns, technology decisions
- **Token Optimization**: When you need multiple web searches or content extraction

**Available Tools**:
- `web_search_prime_search` - Enhanced web search (Discovery/Planning)
- `web_reader_read` - Read and extract content from web pages (Discovery/Planning)
- `zread_read` - Advanced web content reading and analysis (Discovery/Planning)

**Usage Pattern**:
```bash
# 1. Search for inspiration/examples
web_search_prime_search(query="AI agent patterns", ...)

# 2. Read relevant pages
web_reader_read(url="...")  # or zread_read(url="...")

# 3. Combine with RAG knowledge base results
rag_search_knowledge_base(query="similar patterns", ...)
```

**Fallback**: If web MCP servers unavailable, use Claude's built-in web search (may consume more tokens).

## Project Workflows

### New Project:

```bash
# 1. Create project
manage_project("create", title="My Feature", description="...")

# 2. Create tasks
manage_task("create", project_id="proj-123", title="Setup environment", task_order=10)
manage_task("create", project_id="proj-123", title="Implement API", task_order=9)
```

### Existing Project:

```bash
# 1. Find project
find_projects(query="auth")  # or find_projects() to list all

# 2. Get project tasks
find_tasks(filter_by="project", filter_value="proj-123")

# 3. Continue work or create new tasks
```

## Tool Reference

### Projects:

- `find_projects(query="...")` - Search projects
- `find_projects(project_id="...")` - Get specific project
- `manage_project("create"/"update"/"delete", title="...", description="...", github_repo="...")` - Manage projects

### Tasks:

- `find_tasks(query="...")` - Search tasks by keyword
- `find_tasks(task_id="...")` - Get specific task (returns full details)
- `find_tasks(filter_by="status"/"project"/"assignee", filter_value="...")` - Filter tasks
- `manage_task("create"/"update"/"delete", task_id="...", project_id="...", title="...", description="...", status="...", assignee="...", task_order=...)` - Manage tasks

**Task Status Flow**: `todo` → `doing` → `review` → `done`

**Task Granularity**:
- For feature-specific projects: Create detailed implementation tasks (setup, implement, test, document)
- For codebase-wide projects: Create feature-level tasks
- Each task should represent 30 minutes to 4 hours of work
- Higher `task_order` = higher priority (0-100)

### Knowledge Base (RAG):

- `rag_get_available_sources()` - List all available knowledge sources
- `rag_search_knowledge_base(query="...", source_id="...", match_count=5, return_mode="pages")` - Search knowledge base
- `rag_search_code_examples(query="...", source_id="...", match_count=5)` - Find code examples
- `rag_list_pages_for_source(source_id="...", section="...")` - List pages in a source
- `rag_read_full_page(page_id="..." | url="...")` - Read complete page content

### Documents:

- `find_documents(project_id="...", document_id="...", query="...", document_type="...")` - Find documents
- `manage_document("create"/"update"/"delete", project_id="...", document_id="...", title="...", document_type="...", content="...", tags="...")` - Manage documents

### Other Tools:

- `health_check()` - Check MCP server health
- `session_info()` - Get session information

## MCP Server Health & Fallback

### Checking Server Availability

**Before starting work, verify Archon MCP is available:**

```bash
# Check Archon MCP health
health_check()  # Should return healthy status
```

**If Archon MCP is unavailable:**
1. **Inform user** that Archon MCP is unavailable
2. **Ask user** if they want to proceed with limited functionality or wait
3. **Do NOT use TodoWrite** - wait for Archon MCP to be available
4. **Document the issue** in your response

**If Web MCP servers are unavailable:**
- Use Claude's built-in web search as fallback
- Inform user that advanced web features may be limited
- Continue with available functionality

### Fallback Behavior

**Archon MCP Unavailable**:
- **DO NOT** fall back to TodoWrite (per ARCHON-FIRST RULE)
- **STOP** and inform user
- **WAIT** for Archon MCP to be available before proceeding

**Web MCP Servers Unavailable**:
- Use Claude's built-in web search
- May consume more tokens
- Continue with available functionality

## Important Notes

- **Task status flow**: `todo` → `doing` → `review` → `done`
- **Keep queries SHORT** (2-5 keywords) for better search results
- **Higher `task_order`** = higher priority (0-100)
- **Tasks should be 30 min - 4 hours** of work
- **Only ONE task in 'doing' status** at a time
- **Use 'review'** for completed work awaiting validation
- **Mark tasks 'done'** only after verification

## Development Principles

### YAGNI (You Aren't Gonna Need It)

- **Don't implement features that are not needed**
- Focus on current requirements, not future possibilities
- Avoid over-engineering and premature optimization
- Build only what's necessary for current task

### KISS (Keep It Simple, Stupid)

- Prefer simple solutions over complex ones
- Avoid unnecessary abstractions
- Write code that's easy to understand and maintain

### DRY (Don't Repeat Yourself)

- Extract common patterns when appropriate
- Reuse code and components
- But don't over-abstract - balance with YAGNI

## Documentation Standards

**CRITICAL: Apply YAGNI/KISS to all documentation**

- **Line Limits**: MVP, PRD, TECH-SPEC must be 500-600 lines max (fewer is better)
- **YAGNI**: Only document what's needed NOW, remove verbose explanations, examples, and non-essential content
- **KISS**: Use simple, direct language. Remove marketing fluff, redundant sections, and verbose descriptions
- **Focus**: Keep only essential technical details, requirements, and implementation guidance
- **When Creating/Updating Docs**: Always trim unnecessary content, condense verbose sections, remove redundant information

## Error Handling

**When errors occur:**

1. **Stop and assess** - Don't continue with broken state
2. **Inform user clearly** - Explain what went wrong and why
3. **Suggest recovery** - Provide actionable next steps
4. **Preserve work** - Don't lose progress; checkpoint if possible
5. **Learn from errors** - Document patterns to avoid repetition

**Common Error Scenarios**:
- **MCP server unavailable**: Check health, inform user, wait for availability
- **Task not found**: Verify task ID, check project context, ask user
- **File operation failed**: Check permissions, verify path, inform user
- **RAG search returns no results**: Try broader query, check source availability

**Error Recovery Pattern**:
```bash
# 1. Attempt operation
# 2. If error, check health/availability
# 3. Inform user with context
# 4. Suggest alternative or wait
# 5. Retry when conditions met
```

---

## AI Coding Workflow System Commands

This project uses a markdown-based command system for orchestrating AI-assisted development workflows.

### Available Commands:

- `/prime` - Export codebase for context gathering
- `/discovery` - Explore ideas and opportunities
- `/planning {feature-name}` - Generate PRD
- `/development {feature-name}` - Generate Tech Spec
- `/task-planning {feature-name}` - Create PRP and tasks
- `/execution {feature-name}` - Execute tasks
- `/review {feature-name}` - Code review
- `/test {feature-name}` - Run tests
- `/workflow {feature-name}` - Execute full workflow

See `PRD.md` and `TECH-SPEC.md` for detailed command documentation.

## PRP Template Usage

**During Task Execution, always reference PRP documents:**

1. **Load PRP** → Read `features/{feature-name}/prp.md` before starting implementation
2. **Follow Blueprint** → Use PRP's "Implementation Blueprint" section for step-by-step guidance
3. **Reference Patterns** → Follow codebase patterns documented in PRP
4. **Check Gotchas** → Review "Known Gotchas" section to avoid common pitfalls
5. **Validate** → Use PRP's "Validation Loop" commands for quality checks

**PRP Structure Reference**:
- **Goal**: What you're building and success criteria
- **All Needed Context**: Documentation, codebase patterns, file references
- **Implementation Blueprint**: Ordered tasks with dependencies
- **Validation Loop**: Syntax, unit tests, integration tests

**If PRP doesn't exist**:
- Run `/task-planning {feature-name}` first to generate PRP
- Or ask user if they want to proceed without PRP (not recommended)

## Decision-Making Framework

**When to proceed autonomously:**
- ✅ Task is clear from PRP/context
- ✅ Implementation pattern is established
- ✅ No ambiguity in requirements
- ✅ Standard file operations (create/edit within feature scope)
- ✅ Following existing codebase patterns

**When to ask user:**
- ❓ Requirements are ambiguous or conflicting
- ❓ Multiple valid approaches exist and choice matters
- ❓ Breaking changes or major refactoring needed
- ❓ External dependencies or configuration required
- ❓ User preferences or business logic decisions needed
- ❓ MCP server unavailable (critical blocker)

**Decision Rule**: If unsure, **ask**. Better to clarify than assume incorrectly.

---

## When Working with This Codebase

1. **Always check Archon MCP first** for tasks and projects
2. **Research before implementing** using RAG knowledge base
3. **Load PRP document** before starting implementation (if available)
4. **Update task status** as you work (todo → doing → review → done)
5. **Follow YAGNI** - don't build what isn't needed
6. **Follow KISS** - keep it simple, prefer straightforward solutions over complex ones
7. **Use workflow commands** for structured development
8. **Check MCP server health** if operations fail unexpectedly

### File Modification Guidelines

**Safe to edit autonomously:**
- Files within `features/{feature-name}/` directory (current feature scope)
- New files being created as part of current task
- Documentation files (README, STATUS.md) for current feature
- Test files for current feature

**Ask before editing:**
- Files outside current feature directory
- Core system files (commands, templates, root configs)
- Files shared across multiple features
- Breaking changes or major refactoring
- User's explicitly open/visible files (unless task requires it)

**File Operation Best Practices:**
- Read file first to understand context
- Preserve existing patterns and style
- Make minimal, focused changes
- Document why changes were made (in commit messages or comments)

---

**Remember**: Archon MCP is PRIMARY task management system. Never use TodoWrite. Always start with Archon.
```

#### INDEX.md
```markdown
# AI Coding Workflow System - INDEX

## Overview

This is a markdown-based command system for orchestrating AI-assisted development workflows through MCP integration. It manages complete lifecycle from codebase context to implementation, review, and testing.

## Directory Navigation

- **[context/](./context/)** - Prime exports (codebase context)
- **[discovery/](./discovery/)** - Discovery documents (ideas and opportunities)
- **[features/](./features/)** - Feature artifacts (PRD, tech spec, PRP, task plans)
- **[templates/](./templates/)** - Template files (PRP templates)
- **[reviews/](./reviews/)** - Code review reports
- **[testing/](./testing/)** - Test results
- **[execution/](./execution/)** - Task breakdown files
- **[.claude/commands/](./.claude/commands/)** - Workflow commands

## Core Commands

| Command | Description | Phase |
|---------|-------------|-------|
| `/prime` | Export codebase for context gathering | Prime |
| `/discovery` | Explore ideas and opportunities | Discovery |
| `/planning {feature}` | Generate PRD from discovery | Planning |
| `/development {feature}` | Generate tech spec from PRD | Development |
| `/task-planning {feature}` | Generate PRP and create tasks | Task Planning |
| `/execution {feature}` | Execute tasks sequentially | Execution |
| `/review {feature}` | Run code review | Review |
| `/test {feature}` | Run tests | Test |
| `/workflow {feature}` | Execute full workflow | All phases |

## Documentation

- **[PRD.md](./PRD.md)** - Product Requirements Document
- **[TECH-SPEC.md](./TECH-SPEC.md)** - Technical Specification
- **[CLAUDE.md](./CLAUDE.md)** - Developer guidelines
- **[MVP.md](./MVP.md)** - Minimum Viable Product definition

## Quick Start

1. Run `/prime` to export codebase context
2. Run `/discovery` to explore opportunities
3. Run `/planning {feature-name}` to create PRD
4. Run `/development {feature-name}` to create tech spec
5. Run `/task-planning {feature-name}` to create implementation plan
6. Run `/execution {feature-name}` to implement tasks
7. Run `/review {feature-name}` to review code
8. Run `/test {feature-name}` to run tests

Or run `/workflow {feature-name}` to execute all phases automatically.

## Status

**Version**: 1.0
**Last Updated**: 2026-01-23
**Status**: In Development
```

#### MVP.md
```markdown
---
name: AI Coding Workflow System
overview: "A flexible, markdown-based AI coding workflow orchestration system that manages the complete development lifecycle from idea to implementation."
---

# AI Coding Workflow System - MVP

## Vision

Build a **robust and flexible** markdown-based command system that orchestrates AI-assisted development workflows. The system should seamlessly integrate with various MCP (Model Context Protocol) servers and adapt to different project needs while maintaining simplicity and transparency.

## Core Value Proposition

**Problem**: Manual coordination between development phases (discovery → planning → implementation → review → testing) is time-consuming and error-prone.

**Solution**: An automated workflow system that:
- Orchestrates the complete development lifecycle
- Works flexibly with different MCP servers and AI tools
- Stores all artifacts as markdown for transparency and version control
- Supports both individual command execution and unified automation

## Key Principles

1. **Flexibility First**: System works with any MCP server configuration, not locked to specific tools
2. **Markdown-Based**: All artifacts stored as markdown files for easy review and version control
3. **Modular Commands**: Each phase can run independently or as part of unified workflow
4. **Transparency**: Clear progress tracking and artifact organization
5. **Robustness**: Handles errors gracefully, supports checkpoint/resume

## Workflow Phases

The system orchestrates these sequential phases:

1. **Prime** - Export codebase for context gathering
2. **Discovery** - Explore ideas, inspiration, and needs for AI/ATR applications
3. **Planning** - Transform discovery insights into PRD (Product Requirements Document)
4. **Development** - Analyze PRD and generate Tech Spec (Technical Specification)
5. **Task Planning** - Combine all contexts (Prime + Discovery + PRD + Tech Spec) into digestible, actionable tasks
6. **Execution** - Execute digestible tasks step-by-step with progress tracking
7. **Review** - AI-powered code review
8. **Test** - Automated testing and error detection

## Architecture Approach

- **Command Structure**: Markdown files with frontmatter (following Claude Code pattern)
- **Storage**: File system-based with organized directory structure
- **Integration**: MCP protocol for AI model communication (flexible server configuration)
- **Task Management**: Supports Archon MCP or TodoWrite fallback
- **Progress Tracking**: STATUS.md per feature, INDEX.md for navigation

## Success Criteria

- System successfully orchestrates complete development lifecycle
- Works with different MCP server configurations
- All artifacts clearly documented and navigable
- Supports both individual and unified command execution
- Handles errors gracefully with checkpoint/resume capability

## Out of Scope (MVP)

- Web UI or dashboard
- Real-time collaboration
- Custom command creation interface
- Plugin system for extending commands
```

#### README.md
```markdown
# AI Coding Workflow System

A markdown-based command system for orchestrating AI-assisted development workflows through MCP integration.

## Overview

This system manages complete development lifecycle from codebase context gathering through implementation, review, and testing. It uses markdown files for all artifacts and integrates with MCP (Model Context Protocol) servers for task management, knowledge base queries, and web research.

## Features

- **Prime Export**: Comprehensive codebase context gathering
- **Discovery**: AI-powered exploration of ideas and opportunities
- **Planning**: Automated PRD generation from discovery
- **Development**: Tech spec generation with stack recommendations
- **Task Planning**: PRP (Plan Reference Protocol) generation with task breakdown
- **Execution**: Sequential task execution with progress tracking
- **Review**: AI-powered code review with compliance verification
- **Testing**: Automated testing with AI-suggested fixes
- **Unified Workflow**: Single command for complete lifecycle

## Quick Start

### Prerequisites

- Claude Code CLI
- Archon MCP server (recommended)
- Web MCP servers (recommended)

### Basic Usage

```bash
# Export codebase context
/prime

# Explore opportunities
/discovery

# Create feature requirements
/planning my-feature

# Generate technical specification
/development my-feature

# Create implementation plan
/task-planning my-feature

# Execute implementation
/execution my-feature

# Review code
/review my-feature

# Run tests
/test my-feature
```

### Unified Workflow

Execute all phases with a single command:

```bash
/workflow my-feature
```

### Resume from Phase

Resume from any phase if errors occur:

```bash
/workflow my-feature --from-development
```

## Directory Structure

```
project-root/
├── .claude/
│   ├── commands/          # Workflow commands
│   └── templates/         # STATUS.md template
├── context/               # Prime exports
├── discovery/             # Discovery documents
├── features/              # Feature artifacts
│   └── {feature-name}/
│       ├── prd.md
│       ├── tech-spec.md
│       ├── prp.md
│       ├── task-plan.md
│       └── STATUS.md
├── templates/
│   └── prp/               # PRP templates
├── reviews/               # Review reports
├── testing/               # Test results
├── execution/             # Task breakdown files
├── PRD.md                 # Product Requirements Document
├── TECH-SPEC.md           # Technical Specification
├── CLAUDE.md              # Developer guidelines
└── README.md              # This file
```

## Documentation

- **[PRD.md](./PRD.md)** - Complete product requirements
- **[TECH-SPEC.md](./TECH-SPEC.md)** - Technical specifications
- **[CLAUDE.md](./CLAUDE.md)** - Development guidelines
- **[INDEX.md](./INDEX.md)** - System navigation

## License

MIT License - See LICENSE file for details
```

#### TECH-SPEC.md (continues...)
[File truncated for display - full content continues with file listings and command definitions]

---

**Note**: This prime export contains full file contents. Due to size, some files may be displayed in summary format.
